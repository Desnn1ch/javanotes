## **Reference Counting**.

–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –Ω–µ—è–≤–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞ –Ω–µ–≥–æ —É–∫–∞–∑—ã–≤–∞—é—Ç. –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ, –∫–æ–≥–¥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–∞—è —Å—Å—ã–ª–∫–∞, –º—ã —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫, –∫–æ–≥–¥–∞ —É–¥–∞–ª—è–µ—Ç—Å—è - —É–º–µ–Ω—å—à–∞–µ–º. –ï—Å–ª–∏ —Å—á–µ—Ç—á–∏–∫ —Ä–∞–≤–µ–Ω 0 –∏–ª–∏ null, –æ–±—ä–µ–∫—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –º—É—Å–æ—Ä–æ–º, –∏ GC –ø–æ–¥—á–∏—â–∞–µ—Ç –ø–∞–º—è—Ç—å.

–ù–æ –∑–¥–µ—Å—å –æ—á–µ–≤-–ø—Ä–æ–±–ª–µ–º–∞: —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏. –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–æ–≤ —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞, –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–∏–≥–¥–µ –≤ –∫–æ–¥–µ, –æ–Ω–∏ –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è –º—É—Å–æ—Ä–æ–º, —Ö–æ—Ç—è —Ç–∞–∫–æ–≤—ã–º–∏ —è–≤–ª—è—é—Ç—Å—è. –ü–æ–ª—É—á–∞–µ–º —É—Ç–µ—á–∫—É –ø–∞–º—è—Ç–∏.

–ï—â–µ –ø—Ä–æ–±–ª–µ–º–∞ ‚Äî –ø–ª–æ—Ö–æ —Å–æ—á–µ—Ç–∞–µ—Ç—Å—è —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å—é, –∞ —Ç–∞–∫–∂–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è (—Ö–æ—Ç—å –∏ –Ω–µ–±–æ–ª—å—à–∞—è) –ø–∞–º—è—Ç—å –¥–ª—è —Å—á–µ—Ç—á–∏–∫–æ–≤ –∏ –≤—Ä–µ–º—è –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Å—á–µ—Ç—á–∏–∫–∞–º–∏.

–ü–æ—ç—Ç–æ–º—É —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ JVM, –∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥—Ä—É–≥–∏–µ –ø–æ–¥—Ö–æ–¥—ã, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ tracing‚Äô–µ.

## **Tracing**

–û—Å–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∏–¥–µ–µ, —á—Ç–æ –≤—Å–µ ‚Äú–∂–∏–≤—ã–µ‚Äù –æ–±—ä–µ–∫—Ç—ã, –≤ –∫–æ–Ω–µ—á–Ω–æ–º —Å—á–µ—Ç–µ, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã —á–µ—Ä–µ–∑ —Å—Å—ã–ª–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ª–∏–±–æ –Ω–∞ —Å—Ç–µ–∫–µ, –ª–∏–±–æ –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –ù–∞—á–∏–Ω–∞—Ç—å –∏—Å–∫–∞—Ç—å –±—É–¥–µ–º –æ—Ç —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–≥–æ GC Root ‚Äî –æ–±—ä–µ–∫—Ç–∞-–∫–æ—Ä–Ω—è, –ø—Ä–æ—Ö–æ–¥—è –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω –≤ —Å–µ–±–µ —Å–æ–¥–µ—Ä–∂–∏—Ç.

–ú–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ —Ä–µ—à–∞–µ—Ç—Å—è –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ - –µ—Å–ª–∏ –º—ã –Ω–µ –º–æ–∂–µ–º –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ –æ–±—ä–µ–∫—Ç–∞, —Ç–æ –æ–Ω - –º—É—Å–æ—Ä üò¢

–ï—â–µ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–∞—è —à—Ç—É–∫–∞, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Garbage Collector - —ç—Ç–æ live ranges, –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º. –ü–æ —Å—É—Ç–∏, –∫–æ–≥–¥–∞ –º—ã —Å–æ–∑–¥–∞–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å, –∫–æ–≥–¥–∞ –æ–Ω–∞ –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç –Ω—É–∂–Ω–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É –≤—ã–∑–æ–≤—É –º–µ—Ç–æ–¥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ —ç—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π). –ó–Ω–∞—á–∏—Ç, –∫–æ–≥–¥–∞ Garbage Collector –∏—â–µ—Ç –º—É—Å–æ—Ä, –æ–Ω –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑–≤–µ—Å—Ç–Ω—ã–µ live ranges –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏ –æ—á–∏—â–∞—Ç—å —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã—à–ª–∏ –∑–∞ —Ä–∞–º–∫–∏ —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏.

### –í Java 8 –∫–æ—Ä–Ω–µ–≤—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ (GC Root) –º–æ–≥—É—Ç –±—ã—Ç—å:

- _–õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ—Ç–æ–¥–æ–≤_¬†‚Äî –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –º–µ—Ç–æ–¥–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å—Ç–µ–∫–µ –≤—ã–∑–æ–≤–æ–≤, –∑–Ω–∞—á–∏—Ç, —ç—Ç–∏ –æ–±—ä–µ–∫—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –∫–æ—Ä–Ω–µ–≤—ã–µ.

- _–ü–æ—Ç–æ–∫–∏ Java_¬†‚Äî –∫–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤. –î–∞–ª—å—à–µ –ø–æ–Ω—è—Ç–Ω–æ.

- _–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ_¬†‚Äî —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ–±–ª–∞—Å—Ç–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏, –∞ –∑–Ω–∞—á–∏—Ç, –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≤—Å–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏. –û—Ç–ª–∏—á–Ω—ã–π –∫–æ—Ä–µ–Ω—å.

- _–°—Å—ã–ª–∫–∏ –∏–∑ JNI_¬†(Java Native Interface - –º–µ—Ö–∞–Ω–∏–∑–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å Java-–∫–æ–¥—É —Å –∫–æ–¥–æ–º, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–º –Ω–∞ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π –∏ –û–°. –ö–æ—Ä–æ—á–µ –º–æ–∂–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º) ‚Äî —Å—Å—ã–ª–∫–∏ –∏–∑ JNI –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å –∫–æ—Ä–Ω–µ–≤—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –≤ –Ω–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥.

–ó–Ω–∞—á–∏—Ç, –¥–∞–∂–µ —Å–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ hello world –±—É–¥–µ—Ç –∏–º–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ GC Root:

- –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ main –º–µ—Ç–æ–¥–∞
- —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å–∞, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ main –º–µ—Ç–æ–¥
- –ø–∞—Ä–∞–º–µ—Ç—Ä—ã main –º–µ—Ç–æ–¥–∞ (args)
- –ø–æ—Ç–æ–∫, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–π main –º–µ—Ç–æ–¥