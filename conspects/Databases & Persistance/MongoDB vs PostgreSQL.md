### Дифференс 

- MongoDB — это документно-ориентированная база данных, а PostgreSQL — объектно-реляционная база данных.

- MongoDB хранит данные в коллекциях JSON-подобных документов, тогда как PostgreSQL хранит данные в таблицах.

- Документы MongoDB в коллекции эквивалентны строкам в PostgreSQL.

- В MongoDB не нужно следовать строгому определению схемы, поскольку не все документы в коллекции могут иметь одинаковые ключи. В PostgreSQL определение схемы строгое, поскольку столбцы в таблице указываются при создании.

- MongoDB использует язык запросов MongoDB для взаимодействия с базой данных, тогда как PostgreSQL использует SQL.
---

### Когда че использовать

| Критерий / Сценарий             | **PostgreSQL** (реляционная)                                 | **MongoDB** (NoSQL, документо-ориентированная)                   |
| ------------------------------- | ------------------------------------------------------------ | ---------------------------------------------------------------- |
| **Модель данных**               | Таблицы, чёткая схема (строгая структура)                    | Документы JSON-подобные, динамичная схема                        |
| **Сложные связи** (`JOIN`, FK)  | ✅ Отлично подходит (нормализованные данные, JOIN-ы)          | ❌ JOIN-ов нет (делаешь денормализацию или агрегации)             |
| **Транзакции (ACID)**           | ✅ Полноценные, надёжные                                      | ⚠️ Полные транзакции есть (с 4.0), но хуже по производительности |
| **Гибкость схемы**              | ❌ Нужно заранее проектировать структуру                      | ✅ Гибкая схема, легко хранить разные поля в одном документе      |
| **Запросы и индексация**        | Сильный SQL, индексы разных типов                            | Мощный поиск по документам, индексы B-Tree/hashed/text           |
| **JSON / Semi-structured data** | ✅ JSON/JSONB с индексами, но не основная фича                | ✅ Основная модель хранения (BSON)                                |
| **Масштабирование (sharding)**  | ⚠️ Вертикальное лучше, горизонтальное сложнее (Citus и т.п.) | ✅ Встроенный шардинг и репликация                                |


- **Выбираем PostgreSQL, если:**
    - Нужны транзакции и строгая консистентность.
    - Много связей между сущностями (`JOIN`, FK).
    - Сложные аналитические запросы.
    - Требуется строгая схема данных.
- **Выбираем MongoDB, если:**
    - Данные с плавающей/динамичной структурой.
    - Важна гибкость схемы.
    - Нужны простые запросы по документам