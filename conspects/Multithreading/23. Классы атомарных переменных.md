![[Screenshot 2025-08-27 at 21.05.47.png]]

Для простоты можно просто представлять, что каждый метод атомарных переменных объявлены с `synchronized`

Кстати в `AtomicInteger` (возможно и в других атомиках) частенько можно увидеть `CAS`
![[Screenshot 2025-08-27 at 21.08.41.png]]

Вот так может выглядеть работа с атомиками:
```java
import java.util.concurrent.atomic.AtomicInteger;

public final class EvenNumberGenerator {
    private static final int GENERATION_DELTA = 2;
    private final AtomicInteger value = new AtomicInteger();

    public int generate() {
        return this.value.getAndAdd(GENERATION_DELTA);
    }

    public int getValue() {
        return this.value.intValue();
    }
}
```

Интересно, что даже несмотря на то, что мы работаем с атомиками, если мы возьмем и поменяем метод `generate()` на что-то подобное:
```java
public int generate() {
	value.incrementAndGet();
	value.incrementAndGet();
	
	return value;
}
```
то здесь уже код становится непотокобезопасным и вот почему:
![[Screenshot 2025-08-27 at 21.17.51.png]]
